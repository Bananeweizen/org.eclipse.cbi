<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright (c) 2012, 2013, 2015 Eclipse Foundation and others.
  All rights reserved. This program and the accompanying materials
  are made available under the terms of the Eclipse Distribution License v1.0
  which accompanies this distribution, and is available at
  http://www.eclipse.org/org/documents/edl-v10.php

  Contributors:
    Igor Fedorenko - initial implementation
    Thanh Ha (Eclipse Foundation) - maintenance
    Mikael Barbero
-->

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.eclipse.cbi.maven.plugins</groupId>
  <artifactId>eclipse-cbi-parent</artifactId>
  <version>1.2.0-SNAPSHOT</version>
  <packaging>pom</packaging>
  <name>The Eclipse CBI Plugins Project</name>
  <url>http://wiki.eclipse.org/CBI</url>
  <description>
      CBI plugins are created to enable the Eclipse community to use
      various services at Eclipse including the signing infrastructure.
  </description>

  <licenses>
    <license>
      <name>Eclipse Public License, Version 1.0</name>
      <url>http://www.eclipse.org/legal/epl-v10.html</url>
      <distribution>repo</distribution>
    </license>
    <license>
      <name>Eclipse Distribution License, Version 1.0</name>
      <url>http://eclipse.org/org/documents/edl-v10.html</url>
      <distribution>repo</distribution>
    </license>
  </licenses>

  <mailingLists>
    <mailingList>
      <name>cbi-dev</name>
      <subscribe>https://dev.eclipse.org/mailman/listinfo/cbi-dev</subscribe>
      <unsubscribe>https://dev.eclipse.org/mailman/listinfo/cbi-dev</unsubscribe>
      <post>cbi-dev@eclipse.org</post>
      <archive>http://dev.eclipse.org/mhonarc/lists/cbi-dev/</archive>
    </mailingList>
  </mailingLists>

  <issueManagement>
    <system>Bugzilla</system>
    <url>https://bugs.eclipse.org/bugs/enter_bug.cgi?product=CBI</url>
  </issueManagement>

  <organization>
    <name>Eclipse Foundation</name>
    <url>http://eclipse.org/</url>
  </organization>

  <developers>
    <developer>
      <id>tha</id>
      <name>Thanh Ha</name>
      <email>thanh.ha@eclipse.org</email>
      <organization>Eclipse Foundation</organization>
      <organizationUrl>http://eclipse.org/</organizationUrl>
      <roles>
        <role>Release Engineer</role>
        <role>Developer</role>
      </roles>
      <timezone>America/Montreal</timezone>
      <properties>
        <picUrl>http://www.eclipse.org/org/foundation/hat%20photos/thanh.jpg</picUrl>
      </properties>
    </developer>
  </developers>

  <scm>
    <connection>scm:git:git://git.eclipse.org/gitroot/cbi/org.eclipse.cbi.maven.plugins</connection>
    <developerConnection>scm:git:ssh://user@git.eclipse.org:29418/cbi/org.eclipse.cbi.maven.plugins</developerConnection>
    <tag>master</tag>
    <url>http://git.eclipse.org/c/cbi/org.eclipse.cbi.maven.plugins.git/</url>
  </scm>

  <properties>
    <maven.version>3.1.1</maven.version>
    <tycho.version>0.23.0</tycho.version>
    <tycho-snapshot-repo.url>https://repo.eclipse.org/content/repositories/tycho-snapshots/</tycho-snapshot-repo.url>
    <eclipse-maven-repo.url>https://repo.eclipse.org/content/repositories/releases/</eclipse-maven-repo.url>

    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>

  <!--
     See maven-enforcer-plugin configuration to actually break the build if
     run with older maven.
     prerequisites section is kept for now as even if it doesn't break the build, it
     is used by other plugins like versions-maven-plugin which check and warn
     for using plugins with older than they require Maven version.
     If version number changed in one place, be sure to change in the other.
  -->
  <prerequisites>
    <maven>3.1.1</maven>
  </prerequisites>

  <pluginRepositories>
    <pluginRepository>
      <id>eclipse-maven</id>
      <url>${eclipse-maven-repo.url}</url>
      <releases>
        <enabled>true</enabled>
      </releases>
      <snapshots>
        <enabled>true</enabled>
      </snapshots>
    </pluginRepository>
    <pluginRepository>
      <id>tycho.snapshots</id>
      <url>${tycho-snapshot-repo.url}</url>
      <releases>
        <enabled>true</enabled>
      </releases>
      <snapshots>
        <enabled>true</enabled>
      </snapshots>
    </pluginRepository>
  </pluginRepositories>

  <modules>
    <module>common</module>
    <module>eclipse-cbi-plugin</module>
    <module>eclipse-jarsigner-plugin</module>
    <module>eclipse-macsigner-plugin</module>
    <module>eclipse-winsigner-plugin</module>
  </modules>

  <distributionManagement>
    <repository>
      <id>repo.eclipse.org</id>
      <name>Eclipse CBI Nexus Repository - Releases</name>
      <url>https://repo.eclipse.org/content/repositories/cbi-releases/</url>
    </repository>
    <snapshotRepository>
      <id>repo.eclipse.org</id>
      <name>Ecilpse CBI Nexus Repository - Snapshots</name>
      <url>https://repo.eclipse.org/content/repositories/cbi-snapshots/</url>
    </snapshotRepository>
    <site>
      <id>cbi-plugins.site</id>
      <name>CBI Plugins Site</name>
      <url>file:///${user.dir}/sitedocs</url>
    </site>
  </distributionManagement>

  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-site-plugin</artifactId>
        <version>3.4</version>
        <configuration>
          <relativizeDecorationLinks>false</relativizeDecorationLinks>
          <reportPlugins>
            <plugin>
              <groupId>org.apache.maven.plugins</groupId>
              <artifactId>maven-plugin-plugin</artifactId>
              <version>3.3</version>
              <configuration>
                <requirements>
                  <maven>${maven-version}</maven>
                </requirements>
              </configuration>
            </plugin>
            <plugin>
              <groupId>org.apache.maven.plugins</groupId>
              <artifactId>maven-project-info-reports-plugin</artifactId>
              <version>2.7</version>
            </plugin>
          </reportPlugins>
        </configuration>
      </plugin>
      <plugin>
        <!--
           This maven-enforcer-plugin configuration to actually break the build if
           run with older maven.
           prerequisites section is kept for now as even if it doesn't break the build, it
           is used by other plugins like versions-maven-plugin which check and warn
           for using plugins with older than they require Maven version.
           If version number changed in one place, be sure to change in the other.
        -->
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-enforcer-plugin</artifactId>
        <version>1.4</version>
        <executions>
          <execution>
            <id>enforce-maven</id>
            <goals>
              <goal>enforce</goal>
            </goals>
            <configuration>
              <rules>
                <requireMavenVersion>
                  <version>3.1.1</version>
                </requireMavenVersion>
              </rules>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-jar-plugin</artifactId>
        <version>2.6</version>
        <executions>
            <execution>
                <goals>
                    <goal>test-jar</goal>
                </goals>
            </execution>
        </executions>
    </plugin>
    </plugins>
    <pluginManagement>
      <plugins>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-compiler-plugin</artifactId>
          <version>3.3</version>
          <configuration>
            <source>1.7</source>
            <target>1.7</target>
          </configuration>
        </plugin>
      </plugins>
    </pluginManagement>
  </build>

  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>org.apache.maven</groupId>
        <artifactId>maven-core</artifactId>
        <version>${maven.version}</version>
      </dependency>
      <dependency>
         <groupId>org.apache.maven</groupId>
         <artifactId>maven-plugin-api</artifactId>
         <version>${maven.version}</version>
      </dependency>
      <dependency>
        <groupId>org.codehaus.plexus</groupId>
        <artifactId>plexus-utils</artifactId>
        <version>3.0.17</version>
      </dependency>
      
      <!-- Dependency scope: test -->
      <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.12</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>com.google.jimfs</groupId>
        <artifactId>jimfs</artifactId>
        <version>1.0</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.eclipse.jetty</groupId>
        <artifactId>jetty-server</artifactId>
        <version>9.2.10.v20150310</version>
        <scope>test</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>
</project>

